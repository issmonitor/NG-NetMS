
ngnms@optoss2:~$ ssh ngnms@185.24.48.179
Password:
Last login: Wed Mar 30 12:41:58 2016 from 185.24.48.187
--- JUNOS 14.2R5.8 built 2015-11-25 01:08:18 UTC
ngnms@TEST02> configure 
Entering configuration mode
Users currently editing the configuration:
  tom terminal u0 (pid 1802) on since 2016-03-30 12:11:02 CEST, idle 00:01:48
      [edit]

[edit]
ngnms@TEST02# show conf
                   ^
syntax error.
ngnms@TEST02# show confi  
                   ^
syntax error.
ngnms@TEST02# show         
## Last changed: 2016-03-30 12:12:33 CEST
version 14.2R5.8;
system {
    host-name TEST02;
    domain-name aoa-hosting.net;
    backup-router 10.111.23.253;
    time-zone Europe/Amsterdam;
    root-authentication {
        encrypted-password "$1$dkjvXDz/$70Cf6ccM0GXpVRolm6Xmf."; ## SECRET-DATA
    }
    name-server {
        8.8.8.8;
        2001:4860:4860::8888;
        8.8.4.4;
        2001:4860:4860::8844;
    }
    login {
        user aoa {
            uid 2000;
            class super-user;
            authentication {
                encrypted-password "$1$qB/cDdpn$fepcKrzlMlHPLnoplJUmN."; ## SECRET-DATA
            }
        }
        user jesse {
            full-name "Jesse van Diesen - Art of Automation";
            uid 2003;
            class super-user;
            authentication {
                encrypted-password "$1$CGWk.ClZ$PYmpzij5pHX.3Vdvg4QuK1"; ## SECRET-DATA
            }
        }
        user js {
            full-name "Junos Space";
            uid 2001;
            class super-user;
            authentication {
                encrypted-password "$1$vyzZRlSI$PKwRugr/h3f5gwmXKJzl11"; ## SECRET-DATA
                ssh-rsa "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDT78YTFGCHIjdIUHeSsjN0A3zJziICIbGQyZdeH53egH0KWfCXO+pt3n3OMLfNBjcZ9LnKQ+95oDqE+8CWYbOuT0yDiZPxygBHZWm3xr8A6YTkfq7b0+MvhIDiJcfQOgGqTGzTI6y40Ds0iE7L3qPJJhuCwvBdvrFgoTS8MBhvzlCrETh5xHLbWZNm1qf43oL7SRFCZIuQsoSnNohn6JZzx+hRK2+mtydCaIWFwuUgdSbg3ASNIsTz0kky1eE5wRiLa/q4abL/nEN6cLG7wlB/xw9NUJwyOLJluw65ErwF1o/Jnaw02iMaoRLlJ+pJyUg5x/tldV/REDQ8bzakvxMd"; ## SECRET-DATA
            }
        }
        user ngnms {
            uid 2006;
            class super-user;
            authentication {
                encrypted-password "$1$fbHLahK/$CiK1.ZSW1QikiMfzSdkKi0"; ## SECRET-DATA
            }
        }
        user niels {
            full-name "Niels Raijer - Fusix Networks";
            uid 2002;
            class super-user;
            authentication {            
                encrypted-password "$1$IS3oi0Ge$lvoarhMBo/FVsnfyu7ZYH1"; ## SECRET-DATA
                ssh-rsa "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCm2KHO4WvJFuX9p7Uywx/sWokRH3gFNDYPHXkOq70ZZeQFFrK+ojk1c/ly1zBWbvX9meMLGAS2zow/AiBN9ytlXWmo4DeQRFXzyCnGr4fFDhLjKWab3oJCH8xezCzeoCm+XoHvs+Q1oSkupTRLeX6wpRkPaJ6v5a0lvQ6UTcWhCc6TAlfMYGocuCSCNr1rTfOn2tMrmWHpc0NYFCaPRRSWtx5SSJqMXDP4uDoDYZcVMS5/WcaUPYisXRPbuj+uQY/YLeBk71c6mPWpuDsFlWPEA5bRw9Ge+aKwoUt2HqSx5hJmIVZVd5Z6I3JymX3QUzaFypE8ZFY9THrYj6JRwsah niels@peon.local"; ## SECRET-DATA
            }
        }
        user rik {
            full-name "Rik Bruins - Art of Automation";
            uid 2004;
            class super-user;
            authentication {
                encrypted-password "$1$8pzEmn/Z$Q2w6MuuHtV8goL7puX7Sb1"; ## SECRET-DATA
            }
        }
        user tom {
            full-name "Tom van Leeuwen - Art of Automation";
            uid 2005;
            class super-user;
            authentication {
                encrypted-password "$1$wTRabWa5$XFQmwQSzSw5/D2Xe6LVew/"; ## SECRET-DATA
                ssh-rsa "ssh-rsa AAAAB3NzaC1yc2EAAAABIwAAAQEAu6qvDIx4cHPYyrKr67wiBwPe6qKZjka3jwP1Q2cbMerOi7s/RVEp5a8wtIzm/v+mK0rOuTSnTjZc/Ww9CaQ175ZvTK2oNmNf2VWM3jNChcnNuQVRW2pa7rf1PeyeeEoO+bn1ODjqt8ABw6CKuybEIScA5++h9v4cuhNPQSpMV1JVKhoZ0KlmCz1As62CAsvrAsjQOevZCUt95aFUv/+slXYpJUNcK/ZxlxIg2yfZkiTC2JEZ4tEb0TpOJJohIoWVN03UJj8RMlWSNXuENyUuK8WCrW8MgrGzaAzNnBzIY9K/Oy3Vv35KXBQBBrTVvTJJqClF8O9woG8U/io84uTwzw== tom@tole"; ## SECRET-DATA
            }
        }
    }
    services {
        ssh {
            protocol-version v2;
            max-sessions-per-connection 32;
        }
        netconf {
            ssh;
        }
    }
    syslog {
        user * {
            any emergency;
        }
        host 185.24.48.186 {
            any any;
        }
        file messages {
            any notice;
            authorization info;
        }
        file interactive-commands {
            interactive-commands any;
        }
        file default-log-messages {
            any info;
            match "(requested 'commit' operation)|(copying configuration to juniper.save)|(commit complete)|ifAdminStatus|(FRU power)|(FRU removal)|(FRU insertion)|(link UP)|transitioned|Transferred|transfer-file|(license add)|(license delete)|(package -X update)|(package -X delete)|(FRU Online)|(FRU Offline)|(plugged in)|(unplugged)|CFMD_CCM_DEFECT| LFMD_3AH | RPD_MPLS_PATH_BFD|(Master Unchanged, Members Changed)|(Master Changed, Members Changed)|(Master Detected, Members Changed)|(vc add)|(vc delete)|(Master detected)|(Master changed)|(Backup detected)|(Backup changed)|(interface vcp-)";
            structured-data;            
        }
    }
    ntp {
        server 24.56.178.140;
    }
}
chassis {
    aggregated-devices {
        ethernet {
            device-count 1;
        }
    }
    alarm {
        management-ethernet {
            link-down ignore;
        }
    }
    network-services all-ethernet;
}
interfaces {
    xe-0/0/0 {
        description "Interconnect AOAJNP01 (Relined CID:3746)";
        traceoptions {
            flag all;
        }
        flexible-vlan-tagging;
        mtu 9100;
        encapsulation flexible-ethernet-services;
        unit 10 {
            encapsulation vlan-bridge;
            vlan-id 10;
        }
        unit 23 {
            encapsulation vlan-bridge;
            vlan-id 23;
        }
        unit 25 {
            encapsulation vlan-bridge;
            vlan-id 25;
        }
        unit 40 {
            encapsulation vlan-bridge;
            vlan-id 40;
        }
        unit 41 {
            encapsulation vlan-bridge;
            vlan-id 41;
        }
        unit 42 {
            encapsulation vlan-bridge;
            vlan-id 42;
        }
        unit 350 {                      
            encapsulation vlan-bridge;
            vlan-id 350;
        }
        unit 602 {
            encapsulation vlan-bridge;
            vlan-id 602;
        }
        unit 603 {
            encapsulation vlan-bridge;
            vlan-id 603;
        }
        unit 2281 {
            encapsulation vlan-bridge;
            vlan-id 2281;
        }
        unit 2282 {
            encapsulation vlan-bridge;
            vlan-id 2282;
        }
        unit 2285 {
            encapsulation vlan-bridge;
            vlan-id 2285;
        }
        unit 2303 {
            encapsulation vlan-bridge;
            vlan-id 2303;
        }
        unit 2308 {
            encapsulation vlan-bridge;
            vlan-id 2308;
        }
        unit 2309 {
            encapsulation vlan-bridge;
            vlan-id 2309;
        }
        unit 2310 {
            encapsulation vlan-bridge;
            vlan-id 2310;
        }
        unit 2311 {
            encapsulation vlan-bridge;
            vlan-id 2311;
        }
    }
    xe-1/0/0 {
        description "AMS-ix CID: 4323";
        unit 0 {
            family inet {
                rpf-check {
                    fail-filter urpf-filter4;
                    mode loose;
                }
                address 80.249.210.227/21;
            }
            family inet6 {
                rpf-check fail-filter urpf-filter6;
                address 2001:7f8:1::a506:0893:1/64;
            }
        }
    }
    ge-1/2/0 {
        unit 0 {
            description "Transit Hibernia - AS5580 - CID:4335";
            family inet {
                rpf-check {
                    fail-filter urpf-filter4;
                    mode loose;
                }
                address 78.152.42.51/31;
            }
            family inet6 {
                rpf-check {
                    fail-filter urpf-filter6;
                    mode loose;
                }
                address 2a02:d28:5580:e:1000::1e2/126;
            }
        }
    }
    ge-1/2/1 {
        description "Transit Cogent - AS174 - CID:4324";
        speed 1g;
        gigether-options {
            no-flow-control;
            no-auto-negotiation;
        }
        unit 0 {
            family inet {
                rpf-check {
                    fail-filter urpf-filter4;
                    mode loose;
                }
                address 149.6.1.102/30;
            }
            family inet6 {
                rpf-check {
                    fail-filter urpf-filter6;
                    mode loose;
                }
                address 2001:978:2:2e::1d:2/112;
            }
        }
    }
    inactive: ge-1/2/2 {
        description "AMS-ix CID: 4323";
        unit 0 {                        
            family inet {
                rpf-check {
                    fail-filter urpf-filter4;
                    mode loose;
                }
                address 80.249.210.227/21;
            }
            family inet6 {
                rpf-check fail-filter urpf-filter6;
                address 2001:7f8:1::a506:0893:1/64;
            }
        }
    }
    inactive: ge-1/2/3 {
        description "Link 1 LAG AOA-FSR-04-02 (Relined CID:3747)";
        disable;
        gigether-options {
            802.3ad ae0;
        }
    }
    ge-1/2/6 {
        flexible-vlan-tagging;
        native-vlan-id 41;
        encapsulation flexible-ethernet-services;
        unit 41 {
            encapsulation vlan-bridge;
            vlan-id 41;
        }
    }
    ge-1/2/7 {
        flexible-vlan-tagging;
        native-vlan-id 41;
        encapsulation flexible-ethernet-services;
        unit 41 {
            encapsulation vlan-bridge;
            vlan-id 41;
        }
    }
    ge-1/2/9 {
        description VT135628:ID6856;
        flexible-vlan-tagging;
        encapsulation flexible-ethernet-services;
        unit 117 {
            encapsulation vlan-bridge;
            vlan-tags outer 117 inner 602;
        }
        unit 119 {
            encapsulation vlan-bridge;
            vlan-tags outer 119 inner 86;
        }
        unit 127 {
            encapsulation vlan-bridge;
            vlan-tags outer 127 inner 86;
        }
        unit 128 {
            encapsulation vlan-bridge;
            vlan-tags outer 128 inner 86;
        }
        unit 129 {
            encapsulation vlan-bridge;
            vlan-tags outer 129 inner 86;
        }
        unit 603 {
            encapsulation vlan-bridge;
            vlan-tags outer 120 inner 603;
        }
        unit 2281 {
            encapsulation vlan-bridge;
            vlan-tags outer 120 inner 2281;
        }
        unit 2282 {
            encapsulation vlan-bridge;
            vlan-tags outer 120 inner 2282;
        }
        unit 2285 {
            encapsulation vlan-bridge;
            vlan-tags outer 120 inner 2285;
        }
        unit 2303 {
            encapsulation vlan-bridge;
            vlan-tags outer 117 inner 2303;
        }
    }
    ge-1/3/9 {
        description VT135629:6855;
    }
    ae0 {
        description "LAG LACP AOA-FSR-04-02";
        flexible-vlan-tagging;
        mtu 9100;
        encapsulation flexible-ethernet-services;
        aggregated-ether-options {
            flow-control;
            lacp {
                active;
                periodic slow;
            }
        }
        unit 23 {
            encapsulation vlan-bridge;
            vlan-id 23;
        }
        unit 25 {
            encapsulation vlan-bridge;
            vlan-id 25;
        }                               
        unit 26 {
            encapsulation vlan-vpls;
            vlan-id 26;
            family vpls;
        }
        unit 40 {
            encapsulation vlan-bridge;
            vlan-id 40;
        }
        unit 41 {
            encapsulation vlan-bridge;
            vlan-id 41;
        }
        unit 42 {
            encapsulation vlan-bridge;
            vlan-id 42;
        }
        unit 350 {
            encapsulation vlan-bridge;
            vlan-id 350;
        }
        unit 2281 {
            encapsulation vlan-bridge;
            vlan-id 2281;
        }
        unit 2285 {
            encapsulation vlan-bridge;
            vlan-id 2285;
        }
    }
    irb {
        unit 10 {
            family inet {
                policer {
                    arp rate-limit-300k;
                }
                address 185.24.48.5/31 {
                    inactive: arp 185.24.48.4 l2-interface xe-0/0/0.10 mac 3c:8a:b0:8a:e4:70;
                }
            }
            family inet6 {
                address 2a00:7420:0:10::2/126;
            }
            family mpls;
        }
        unit 23 {
            family inet {
                address 10.111.23.12/24;
            }
        }
        unit 25 {
            family inet {
                address 185.24.48.147/28 {
                    vrrp-group 1 {
                        virtual-address 185.24.48.145;
                        priority 200;
                        accept-data;
                        authentication-type simple;
                        authentication-key "$9$fTF6Ct01Ih/9M8"; ## SECRET-DATA
                    }
                }
            }
        }
        unit 40 {
            family inet {
                address 185.24.48.163/28 {
                    vrrp-group 1 {
                        virtual-address 185.24.48.161;
                        priority 200;
                        accept-data;
                        authentication-type simple;
                        authentication-key "$9$bgsgaGDH.m5GUn/"; ## SECRET-DATA
                    }
                }
            }
        }
        unit 41 {
            family inet {
                address 185.24.48.179/28 {
                    vrrp-group 1 {
                        virtual-address 185.24.48.177;
                        priority 200;
                        accept-data;
                        authentication-type simple;
                        authentication-key "$9$CRvEt01EcrKv8Ehdb"; ## SECRET-DATA
                    }
                }
            }
        }
        unit 42 {
            family inet {
                address 185.24.48.195/28 {
                    vrrp-group 1 {
                        virtual-address 185.24.48.193;
                        priority 200;
                        accept-data;
                        authentication-type simple;
                        authentication-key "$9$-1VsgaZDHkmaJ36"; ## SECRET-DATA
                    }
                }
            }
        }
        unit 2281 {
            family inet {
                address 185.58.148.35/27 {
                    vrrp-group 1 {      
                        virtual-address 185.58.148.33;
                        priority 200;
                        accept-data;
                        authentication-type simple;
                        authentication-key "$9$lMNKWXNdw2gax7jHkmTQRhc"; ## SECRET-DATA
                    }
                }
            }
        }
        unit 2285 {
            family inet {
                address 185.58.148.67/28 {
                    vrrp-group 1 {
                        virtual-address 185.58.148.65;
                        priority 200;
                        accept-data;
                        authentication-type simple;
                        authentication-key "$9$-lVsgaZDHkm4oz3n9puxN-"; ## SECRET-DATA
                    }
                }
            }
        }
    }
    lo0 {
        unit 0 {
            description "OOB management";
            family inet {
                filter {
                    input protect-re;
                }
                address 185.24.48.1/32;
            }
            family inet6 {
                filter {
                    input protect-re6;
                }
                address 2a00:7420:0::1/128;
            }
        }
    }
}
snmp {
    location "Haarlem Evoswitch";
    community "f^0djv5652Xf2xof0$2" {
        authorization read-only;
        clients {
            185.24.50.232/32;
            89.18.175.0/24;
        }
    }
    community testing {
        clients {
            185.24.48.176/28;           
        }
    }
    trap-group space {
        targets {
            185.24.48.181;
        }
    }
}
routing-options {
    rib inet6.0 {
        static {
            route 2a00:7420::/32 reject;
        }
    }
    static {
        route 0.0.0.0/0 next-hop 149.6.1.101;
        route 83.98.157.0/24 next-hop 149.6.1.101;
        route 84.53.96.245/32 next-hop 149.6.1.101;
        route 185.17.98.102/32 next-hop 149.6.1.101;
        route 185.24.48.0/22 reject;
        route 89.18.182.139/32 next-hop 149.6.1.101;
        route 185.17.98.214/32 next-hop 149.6.1.101;
        route 94.142.240.133/32 next-hop 149.6.1.101;
        route 185.58.148.0/22 reject;
        route 185.107.40.0/22 reject;
    }
    router-id 185.24.48.1;
    autonomous-system 60893;
    forwarding-table {
        unicast-reverse-path feasible-paths;
    }
}
protocols {
    rsvp {
        interface irb.10;
        interface lo0.0;
    }
    mpls {
        label-switched-path AOAJNP02-to-AOAJNP01 {
            to 185.24.48.0;
            no-cspf;
            primary to-AOAJNP01;
        }
        path to-AOAJNP01 {
            185.24.48.4;
        }
        interface irb.10;
    }
    bgp {
        traceoptions {
            file bgp.log size 20m files 20;
            flag all;
        }                               
        local-as 60893;
        group ibgp {
            type internal;
            local-address 185.24.48.1;
            family inet-vpn {
                any;
            }
            family inet6-vpn {
                any;
            }
            family l2vpn {
                signaling;
            }
            neighbor 185.24.48.0 {
                description AOAJNP01;
            }
        }
        group Transit {
            type external;
            inactive: neighbor 78.152.42.50 {
                description "Hibernia Networks (Atrato)";
                import AS5580-in;
                export AS5580-out;
                peer-as 5580;
            }
            neighbor 149.6.1.101 {
                description Cogent;
                import AS174-in;
                export AS174-out;
                peer-as 174;
            }
        }
        group ibgp6 {
            type internal;
            local-address 2a00:7420:0::1;
            neighbor 2a00:7420:0::0 {
                description AOAJNP01;
            }
        }
        group Transit6 {
            type external;
            neighbor 2a02:d28:5580:e:1000::1e1 {
                description "Hibernia Networks (Atrato)";
                import AS5580-v6-in;
                export AS5580-v6-out;
                peer-as 5580;
            }
            neighbor 2001:978:2:2e::1d:1 {
                description Cogent;
                import AS174-v6-in;
                export AS174-v6-out;
                peer-as 174;
            }                           
        }
        group amsix-v4 {
            type external;
            import AMSIX-in;
            family inet {
                unicast {
                    prefix-limit {
                        maximum 5000;
                        teardown;
                    }
                }
            }
            export AMSIX-out;
            neighbor 80.249.210.180 {
                description "stato : noc@strato-rz.de";
                authentication-key "$9$bPsgJUjk.PQdbmfTzCAEcylML"; ## SECRET-DATA
                peer-as 6724;
            }
            neighbor 80.249.211.20 {
                description "provector : noc@provector.pl";
                peer-as 35745;
            }
            neighbor 80.249.210.145 {
                description "adama telecom iberia : noc@adamo.es";
                peer-as 35699;
            }
            neighbor 80.249.211.58 {
                description "anexia - noc@anexia-it.com";
                peer-as 42473;
            }
            neighbor 80.249.208.216 {
                description "plesk - ncc@plex.net";
                peer-as 21478;
            }
            neighbor 80.249.209.150 {
                description "he.net : noc@he.net";
                family inet {
                    unicast {
                        prefix-limit {
                            maximum 100000;
                            teardown;
                        }
                    }
                }
                peer-as 6939;
            }
            neighbor 80.249.209.203 {
                description "nordunet - noc@nordu.net";
                peer-as 2603;
            }
            neighbor 80.249.209.217 {
                description "man-da : peering@man-da.de";
                peer-as 8365;           
            }
            neighbor 80.249.211.74 {
                description "lepida - noc@lepida.it";
                peer-as 31638;
            }
            neighbor 80.249.209.221 {
                description "OpenCarrier : peering@opencarrier.eu";
                peer-as 41692;
            }
            neighbor 80.249.209.75 {
                description "runnet : noc@runnet.ru";
                peer-as 3267;
            }
            neighbor 80.249.211.144 {
                description "privatelayer : support@privatelayer.com";
                peer-as 51852;
            }
            neighbor 80.249.209.161 {
                description "Viatel : noc@viatel.com";
                peer-as 31122;
            }
        }
        group amsix-v6 {
            type external;
            import AMSIX-v6-in;
            family inet6 {
                unicast {
                    prefix-limit {
                        maximum 200;
                        teardown;
                    }
                }
            }
            export AMSIX-v6-out;
            neighbor 2001:7f8:1::a500:6724:1 {
                description "strato : strato-rz.de";
                authentication-key "$9$Ef8crv8XNdb2IEVwYgUD5QFnCp"; ## SECRET-DATA
                peer-as 6724;
            }
            neighbor 2001:7f8:1::a503:5745:1 {
                description "Provector : noc@provector.pl";
                peer-as 35745;
            }
            neighbor 2001:7f8:1::a503:5699:1 {
                description "adama telecom iberia : noc@adamo.es";
                peer-as 35699;
            }
            neighbor 2001:7f8:1::a504:2473:1 {
                description "anexia - noc@anexia-it.com";
                peer-as 42473;
            }
            neighbor 2001:7f8:1::a500:6939:1 {
                description "he.net : noc@he.net";
                family inet6 {
                    unicast {
                        prefix-limit {
                            maximum 20000;
                        }
                    }
                }
                peer-as 6939;
            }
            neighbor 2001:7f8:1::a500:2603:1 {
                description "nordunet - noc@nordu.net";
                peer-as 2603;
            }
            neighbor 2001:7f8:1::a500:8365:1 {
                description "man-da : peering@man-da.de";
                peer-as 8365;
            }
            neighbor 2001:7f8:1::a503:1638:1 {
                description "lepida - noc@lepida.it";
                peer-as 31638;
            }
            neighbor 2001:7f8:1::a504:1692:1 {
                description "OpenCarrier : peering@opencarrier.eu";
                peer-as 41692;
            }
            neighbor 2001:7f8:1::a500:3267:1 {
                description "runnet : noc@runnet.ru";
                peer-as 3267;
            }
            neighbor 2001:7f8:1::a505:1852:1 {
                description "privatelayer : support@privatelayer.com";
                peer-as 51852;
            }
            neighbor 2001:7f8:1::a503:1122:1 {
                description "Viatel : noc@viatel.com";
                peer-as 31122;
            }
        }
    }
    ospf {
        traffic-engineering;
        export redistribute-into-ospf;
        area 0.0.0.0 {
            interface lo0.0 {
                passive;
            }
            interface irb.10;
        }
    }
    ospf3 {
        export redistribute-into-ospf3;
        area 0.0.0.0 {
            interface lo0.0 {           
                passive;
            }
            interface irb.10;
        }
    }
    inactive: ldp {
        interface irb.10;
        interface lo0.0;
    }
}
policy-options {
    prefix-list ibgp-neighbors {
        apply-path "protocols bgp group ibgp neighbor <*.*>";
    }
    prefix-list ebgp-neighbors {
        apply-path "protocols bgp group Transit neighbor <*.*>";
    }
    prefix-list ospf-neighbors {
        185.24.48.4/32;
    }
    prefix-list allow-ssh {
        10.113.130.11/32;
        77.175.171.119/32;
        83.98.157.0/24;
        89.18.175.11/32;
        89.18.182.139/32;
        94.142.240.133/32;
        185.17.98.102/32;
        185.17.98.214/32;
        185.24.48.151/32;
        185.24.48.176/28;
        185.24.48.180/32;
        185.24.48.182/32;
    }
    prefix-list allow-snmp {
        apply-path "snmp community <*> clients <*.*>";
    }
    prefix-list allow-dns {
        apply-path "system name-server <*.*>";
    }
    prefix-list allow-ntp {
        127.0.0.1/32;
        185.24.48.1/32;
        apply-path "system ntp server <*.*>";
    }
    prefix-list ibgp6-neighbors {
        apply-path "protocols bgp group ibgp6 neighbor <*:*:*>";
    }
    prefix-list ebgp6-neighbors {
        apply-path "protocols bgp group Transit6 neighbor <*:*:*>";
    }
    prefix-list ospf3-neighbors {
        fe80::3e8a:b000:a8a:e380/128;   
    }
    prefix-list allow-dns6 {
        apply-path "system name-server <*:*:*>";
    }
    prefix-list amsix-v4 {
        apply-path "protocols bgp group amsix-v4 neighbor <*.*>";
    }
    prefix-list amsix-v6 {
        apply-path "protocols bgp group amsix-v6 neighbor <*:*:*>";
    }
    prefix-list rsvp-neighbors {
        185.24.48.4/32;
    }
    policy-statement AMSIX-in {
        term reject-own-prefixes {
            from {
                protocol bgp;
                route-filter 185.24.48.0/22 orlonger;
                route-filter 185.58.148.0/22 orlonger;
                route-filter 185.107.40.0/22 orlonger;
            }
            then reject;
        }
        term default {
            from protocol bgp;
            then {
                local-preference 105;
                community add from-amsix-jnp02;
                accept;
            }
        }
    }
    policy-statement AMSIX-out {
        term export {
            from {
                protocol static;
                route-filter 185.24.48.0/22 exact;
                route-filter 185.58.148.0/22 exact;
                route-filter 185.107.40.0/22 exact;
            }
            then {
                as-path-prepend "60893 60893 60893 60893 60893";
                next-hop self;
                accept;
            }
        }
        term reject_rest {
            then reject;
        }
    }
    policy-statement AMSIX-v6-in {
        term reject-own-prefixes {
            from {                      
                protocol bgp;
                route-filter 2a00:7420::/32 orlonger;
            }
            then reject;
        }
        term default {
            from protocol bgp;
            then {
                local-preference 120;
                community add from-amsix-jnp02;
                accept;
            }
        }
    }
    policy-statement AMSIX-v6-out {
        term export {
            from {
                protocol static;
                route-filter 2a00:7420::/32 exact;
            }
            then {
                next-hop self;
                accept;
            }
        }
        term reject_rest {
            then reject;
        }
    }
    policy-statement AS174-in {
        term reject-own-prefixes {
            from {
                protocol bgp;
                route-filter 185.24.48.0/22 orlonger;
                route-filter 185.58.148.0/22 orlonger;
                route-filter 185.107.40.0/22 orlonger;
            }
            then reject;
        }
        term default {
            from protocol bgp;
            then {
                local-preference 105;
                community add from-as174-jnp02;
                accept;
            }
        }
    }
    policy-statement AS174-out {
        term export {
            from {
                protocol static;
                route-filter 185.24.48.0/22 exact;
                route-filter 185.58.148.0/22 exact;
                route-filter 185.107.40.0/22 exact;
            }
            then {
                as-path-prepend "60893 60893 60893 60893 60893";
                accept;
            }
        }
        term reject_rest {
            then reject;
        }
    }
    policy-statement AS174-v6-in {
        term reject-own-prefixes {
            from {
                protocol bgp;
                route-filter 2a00:7420::/32 orlonger;
            }
            then reject;
        }
        term default {
            from protocol bgp;
            then {
                local-preference 110;
                community add from-as174-jnp02;
                accept;
            }
        }
    }
    policy-statement AS174-v6-out {
        term export {
            from {
                protocol static;
                route-filter 2a00:7420::/32 exact;
            }
            then accept;
        }
        term reject_rest {
            then reject;
        }
    }
    policy-statement AS5580-in {
        term reject-own-prefixes {
            from {
                protocol bgp;
                route-filter 185.24.48.0/22 orlonger;
                route-filter 185.58.148.0/22 orlonger;
                route-filter 185.107.40.0/22 orlonger;
            }
            then reject;
        }
        term default {
            from protocol bgp;          
            then {
                community add from-as5580-jnp02;
                accept;
            }
        }
    }
    policy-statement AS5580-out {
        inactive: term export {
            from {
                protocol [ static direct ];
                inactive: route-filter 185.24.48.0/22 exact;
                route-filter 185.58.148.0/22 exact;
                route-filter 185.107.40.0/22 exact;
            }
            then accept;
        }
        inactive: term blackhole {
            from {
                protocol [ static ospf ];
                tag 666;
            }
            then {
                origin igp;
                community add blackhole-in-as5580;
                accept;
            }
        }
        term reject_rest {
            then reject;
        }
    }
    policy-statement AS5580-v6-in {
        term reject-own-prefixes {
            from {
                protocol bgp;
                route-filter 2a00:7420::/32 orlonger;
            }
            then reject;
        }
        term default {
            from protocol bgp;
            then {
                community add from-as5580-jnp02;
                accept;
            }
        }
    }
    policy-statement AS5580-v6-out {
        inactive: term export {
            from {
                protocol static;
                route-filter 2a00:7420::/32 exact;
            }                           
            then accept;
        }
        inactive: term blackhole {
            from {
                protocol [ static ospf3 ];
                tag 666;
            }
            then {
                origin igp;
                community add blackhole-in-as5580;
                accept;
            }
        }
        term reject_rest {
            then reject;
        }
    }
    policy-statement redistribute-into-ospf {
        term direct {
            from protocol direct;
            then accept;
        }
        term static {
            from protocol static;
            then accept;
        }
        term default {
            then reject;
        }
    }
    policy-statement redistribute-into-ospf3 {
        term direct {
            from protocol direct;
            then accept;
        }
        term static {
            from protocol static;
            then accept;
        }
        term default {
            then reject;
        }
    }
    community blackhole-in-as3356 members 3356:9999;
    community blackhole-in-as5580 members 5580:663;
    community from-amsix-jnp02 members 60894:5;
    community from-as174-jnp02 members 60894:4;
    community from-as3356 members 60893:1;
    community from-as3356-jnp01 members 60893:1;
    community from-as5580 members [ 60893:2 60893:3 ];
    community from-as5580-jnp01 members 60893:2;
    community from-as5580-jnp02 members 60893:3;
}                                       
firewall {
    family inet {
        filter urpf-filter4 {
            term default {
                then {
                    reject;
                }
            }
        }
        filter protect-re {
            inactive: term allow-trusted {
                from {
                    interface-set trusted;
                }
                then accept;
            }
            term ip-fragments-limit-1 {
                from {
                    first-fragment;
                }
                then policer ip-frag-policer;
            }
            term ip-fragments-limit-2 {
                from {
                    fragment-offset 64-8191;
                }
                then policer ip-frag-policer;
            }
            term ip-option-limit {
                from {
                    ip-options any;
                }
                then policer ip-opt-policer;
            }
            term tcp-syn-fin-limit {
                from {
                    protocol tcp;
                    port [ bgp snmp snmptrap ssh ];
                    tcp-flags "syn | fin | rst";
                }
                then policer tcp-syn-policer;
            }
            term ibgp {
                from {
                    source-prefix-list {
                        ibgp-neighbors;
                    }
                    protocol tcp;
                    port bgp;
                    interface-set trusted;
                }
                then accept;
            }                           
            term ebgp {
                from {
                    source-prefix-list {
                        ebgp-neighbors;
                        amsix-v4;
                    }
                    protocol tcp;
                    port bgp;
                    interface-set bgp;
                }
                then accept;
            }
            term ospf {
                from {
                    source-prefix-list {
                        ospf-neighbors;
                    }
                    protocol [ ospf igmp ];
                    interface-set trusted;
                }
                then accept;
            }
            term accept-icmp {
                from {
                    address {
                        0.0.0.0/0;
                    }
                    protocol icmp;
                    icmp-type [ echo-request echo-reply unreachable redirect parameter-problem ];
                }
                then {
                    count icmp-count;
                    accept;
                }
            }
            term traceroute-limit {
                from {
                    address {
                        0.0.0.0/0;
                    }
                    protocol udp;
                    destination-port 33434-33524;
                }
                then {
                    policer traceroute-policer;
                    accept;
                }
            }
            term allow-ssh {
                from {
                    source-prefix-list {
                        allow-ssh;
                    }                   
                    protocol tcp;
                    port ssh;
                }
                then accept;
            }
            term allow-snmp {
                from {
                    source-prefix-list {
                        allow-snmp;
                    }
                    protocol udp;
                    port [ snmp snmptrap ];
                }
                then {
                    policer snmp-policer;
                    accept;
                }
            }
            term allow-dns {
                from {
                    source-prefix-list {
                        allow-dns;
                    }
                    protocol udp;
                    source-port domain;
                }
                then {
                    policer dns-policer;
                    accept;
                }
            }
            term allow-ntp {
                from {
                    source-prefix-list {
                        allow-ntp;
                    }
                    protocol udp;
                    port ntp;
                }
                then accept;
            }
            term rsvp {
                from {
                    source-prefix-list {
                        rsvp-neighbors;
                    }
                    protocol rsvp;
                    interface-set trusted;
                }
                then accept;
            }
            term allow-vrrp {
                from {                  
                    protocol vrrp;
                }
                then accept;
            }
            term default {
                then {
                    log;
                    discard;
                }
            }
        }
    }
    family inet6 {
        filter urpf-filter6 {
            term default {
                then {
                    reject;
                }
            }
        }
        filter protect-re6 {
            term allow-trusted {
                from {
                    interface-set trusted;
                }
                then accept;
            }
            term frag6 {
                from {
                    next-header fragment;
                }
                then {
                    count frag-6-discards;
                    log;
                    discard;
                }
            }
            term icmp6 {
                from {
                    next-header icmp6;
                }
                then {
                    count icmp-count;
                    accept;
                }
            }
            term ospf3 {
                from {
                    source-prefix-list {
                        ospf3-neighbors;
                    }
                    next-header ospf;
                    interface-set trusted;
                }
                then accept;
            }
            term ibgp6-connect {
                from {
                    source-prefix-list {
                        ibgp6-neighbors;
                    }
                    next-header tcp;
                    destination-port bgp;
                    interface-set trusted;
                }
                then accept;
            }
            term ibgp6-reply {
                from {
                    source-prefix-list {
                        ibgp6-neighbors;
                    }
                    next-header tcp;
                    port bgp;
                    interface-set trusted;
                }
                then accept;
            }
            term ebgp6-connect {
                from {
                    source-prefix-list {
                        ebgp6-neighbors;
                        amsix-v6;
                    }
                    next-header tcp;
                    destination-port bgp;
                    interface-set bgp;
                }
                then accept;
            }
            term ebgp6-reply {
                from {
                    source-prefix-list {
                        ebgp6-neighbors;
                        amsix-v6;
                    }
                    next-header tcp;
                    port bgp;
                    interface-set bgp;
                }
                then accept;
            }
            term allow-dns6 {
                from {
                    source-prefix-list {
                        allow-dns6;     
                    }
                    source-port domain;
                }
                then {
                    policer dns-policer;
                    accept;
                }
            }
            term default {
                then {
                    log;
                    discard;
                }
            }
        }
    }
    policer dns-policer {
        if-exceeding {
            bandwidth-limit 8k;
            burst-size-limit 1500;
        }
        then discard;
    }
    policer snmp-policer {
        if-exceeding {
            bandwidth-limit 12k;
            burst-size-limit 1500;
        }
        then discard;
    }
    policer ssh-policer {
        if-exceeding {
            bandwidth-limit 15k;
            burst-size-limit 1500;
        }
        then discard;
    }
    policer arp-policer {
        if-exceeding {
            bandwidth-limit 8k;
            burst-size-limit 1500;
        }
        then discard;
    }
    policer ip-frag-policer {
        if-exceeding {
            bandwidth-limit 10k;
            burst-size-limit 1500;
        }
        then discard;
    }
    policer ip-opt-policer {
        if-exceeding {                  
            bandwidth-limit 8k;
            burst-size-limit 1500;
        }
        then discard;
    }
    policer traceroute-policer {
        if-exceeding {
            bandwidth-limit 8k;
            burst-size-limit 1500;
        }
        then discard;
    }
    policer tcp-syn-policer {
        if-exceeding {
            bandwidth-limit 8k;
            burst-size-limit 1500;
        }
        then discard;
    }
    policer rate-limit-300k {
        if-exceeding {
            bandwidth-limit 300k;
            burst-size-limit 3k;
        }
        then discard;
    }
    interface-set trusted {
        lo0.0;
        irb.10;
    }
    interface-set bgp {
        ge-1/2/0.0;
        ge-1/2/1.0;
        ge-1/2/2.0;
        xe-1/0/0;
    }
}
routing-instances {
    inactive: L2VPN-customer-1 {
        instance-type l2vpn;
        interface ae0.26;
        route-distinguisher 185.24.48.1:1;
        vrf-target target:65534:1;
        protocols {
            l2vpn {
                encapsulation-type ethernet-vlan;
                site L2VPN-customer-1 {
                    site-identifier 2;
                    interface ae0.26;
                }
            }
        }
    }                                   
    inactive: L3VPN-customer-3 {
        instance-type vrf;
        interface ae0.26;
        route-distinguisher 185.24.48.1:3;
        vrf-target target:65534:3;
        vrf-table-label;
    }
    VPLS-customer-2 {
        description "Art of Automation";
        instance-type vpls;
        interface ae0.26;
        route-distinguisher 185.24.48.1:2;
        vrf-target target:65534:2;
        protocols {
            vpls {
                site-range 10;
                no-tunnel-services;
                site VPLS-customer-2 {
                    automatic-site-id;
                }
                vpls-id 2;
            }
        }
    }
}
bridge-domains {
    vlan-10 {
        domain-type bridge;
        vlan-id 10;
        interface xe-0/0/0.10;
        routing-interface irb.10;
    }
    vlan-2281 {
        domain-type bridge;
        vlan-id 2281;
        interface ae0.2281;
        interface xe-0/0/0.2281;
        interface ge-1/2/9.2281;
        routing-interface irb.2281;
    }
    vlan-2282 {
        domain-type bridge;
        vlan-id none;
        interface xe-0/0/0.2282;
        interface ge-1/2/9.2282;
    }
    vlan-2285 {
        domain-type bridge;
        vlan-id 2285;
        interface ae0.2285;
        interface xe-0/0/0.2285;
        interface ge-1/2/9.2285;
        routing-interface irb.2285;     
    }
    vlan-23 {
        domain-type bridge;
        vlan-id 23;
        interface xe-0/0/0.23;
        interface ae0.23;
        routing-interface irb.23;
    }
    vlan-2303 {
        domain-type bridge;
        vlan-id none;
        interface xe-0/0/0.2303;
        interface ge-1/2/9.2303;
    }
    vlan-2308 {
        domain-type bridge;
        vlan-id none;
        interface xe-0/0/0.2308;
        interface ge-1/2/9.119;
    }
    vlan-2309 {
        domain-type bridge;
        vlan-id none;
        interface xe-0/0/0.2309;
        interface ge-1/2/9.127;
    }
    vlan-2310 {
        domain-type bridge;
        vlan-id none;
        interface xe-0/0/0.2310;
        interface ge-1/2/9.128;
    }
    vlan-2311 {
        domain-type bridge;
        vlan-id none;
        interface xe-0/0/0.2311;
        interface ge-1/2/9.129;
    }
    vlan-25 {
        domain-type bridge;
        vlan-id 25;
        interface xe-0/0/0.25;
        interface ae0.25;
        routing-interface irb.25;
    }
    vlan-350 {
        domain-type bridge;
        vlan-id 350;
        interface xe-0/0/0.350;
        interface ae0.350;
        routing-interface irb.350;
    }
    vlan-40 {                           
        domain-type bridge;
        vlan-id 40;
        interface xe-0/0/0.40;
        interface ae0.40;
        routing-interface irb.40;
    }
    vlan-41 {
        domain-type bridge;
        vlan-id 41;
        interface xe-0/0/0.41;
        interface ae0.41;
        interface ge-1/2/6.41;
        interface ge-1/2/7.41;
        routing-interface irb.41;
    }
    vlan-42 {
        domain-type bridge;
        vlan-id 42;
        interface xe-0/0/0.42;
        interface ae0.42;
        routing-interface irb.42;
    }
    vlan-602 {
        domain-type bridge;
        vlan-id none;
        interface ge-1/2/9.117;
        interface xe-0/0/0.602;
    }
    vlan-603 {
        domain-type bridge;
        vlan-id none;
        interface ge-1/2/9.603;
        interface xe-0/0/0.603;
    }
}

[edit]
ngnms@TEST02# exit 
Exiting configuration mode
